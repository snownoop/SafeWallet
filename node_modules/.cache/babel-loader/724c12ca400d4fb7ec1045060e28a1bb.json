{"ast":null,"code":"import { decrypt } from 'eccrypto';\nimport { parse } from './cipher';\nimport { removeTrailing0x } from './util';\nexport default function decryptWithPrivateKey(privateKey, encrypted) {\n  encrypted = parse(encrypted); // remove trailing '0x' from privateKey\n\n  var twoStripped = removeTrailing0x(privateKey);\n  var encryptedBuffer = {\n    iv: new Buffer(encrypted.iv, 'hex'),\n    ephemPublicKey: new Buffer(encrypted.ephemPublicKey, 'hex'),\n    ciphertext: new Buffer(encrypted.ciphertext, 'hex'),\n    mac: new Buffer(encrypted.mac, 'hex')\n  };\n  return decrypt(new Buffer(twoStripped, 'hex'), encryptedBuffer).then(function (decryptedBuffer) {\n    return decryptedBuffer.toString();\n  });\n}","map":null,"metadata":{},"sourceType":"module"}